{"version":3,"file":"js/920-legacy.4b39cd5f.js","mappings":"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","sources":["webpack://managerproject/./src/views/Goodadd.vue?b0d6","webpack://managerproject/src/views/Goodadd.vue","webpack://managerproject/./src/views/Goodadd.vue?976a","webpack://managerproject/./src/views/Goodadd.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"goodadd\"},[_c('div',[_c('van-nav-bar',{attrs:{\"title\":\"增加商品\",\"left-text\":\"\",\"left-arrow\":\"\"},on:{\"click-left\":_vm.onClickLeft}})],1),_c('div',[_c('van-tabs',{model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},[_c('van-tab',{attrs:{\"title\":\"增加新商品\"}},[_c('div',[_c('van-cell',{attrs:{\"left\":\"\",\"title\":\"商品种类\",\"is-link\":\"\",\"value\":_vm.goodtype,\"arrow-direction\":\"down\"},on:{\"click\":_vm.showPopup}}),_c('van-popup',{style:({ height: '50%' }),attrs:{\"position\":\"bottom\"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('van-picker',{attrs:{\"title\":\"商品种类\",\"show-toolbar\":\"\",\"columns\":_vm.columns},on:{\"confirm\":_vm.onConfirm,\"cancel\":_vm.onCancel}})],1),_c('van-field',{staticClass:\"inputbox\",attrs:{\"label\":\"商品号\",\"center\":\"\",\"placeholder\":\"请输入商品号\"},model:{value:(_vm.addId),callback:function ($$v) {_vm.addId=$$v},expression:\"addId\"}}),_c('van-field',{staticClass:\"inputbox\",attrs:{\"label\":\"商品名\",\"placeholder\":\"请输入商品名\"},model:{value:(_vm.addname),callback:function ($$v) {_vm.addname=$$v},expression:\"addname\"}}),_c('van-field',{attrs:{\"type\":\"number\",\"placeholder\":\"请输入商品进价\",\"label\":\"商品进价\"},model:{value:(_vm.addinprice),callback:function ($$v) {_vm.addinprice=$$v},expression:\"addinprice\"}}),_c('van-field',{attrs:{\"type\":\"number\",\"placeholder\":\"请输入商品售价\",\"label\":\"商品售价\"},model:{value:(_vm.addoutprice),callback:function ($$v) {_vm.addoutprice=$$v},expression:\"addoutprice\"}}),_c('van-field',{attrs:{\"type\":\"digit\",\"placeholder\":\"请输入商品数量\",\"label\":\"商品数量\"},model:{value:(_vm.addnum),callback:function ($$v) {_vm.addnum=$$v},expression:\"addnum\"}}),_c('van-cell',{attrs:{\"title\":\"商品图片\"}},[[_c('input',{staticClass:\"input_image left\",attrs:{\"type\":\"file\",\"accept\":\"image/*\"},on:{\"change\":function($event){return _vm.uploadImage($event)}}}),_c('img',{staticClass:\"show_input_image left\",attrs:{\"src\":_vm.imgSrc}})]],2)],1),_c('van-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addgoods}},[_vm._v(\"增加\"+_vm._s(_vm.addId)+\"商品数据\")])],1),_c('van-tab',{attrs:{\"title\":\"增加已有商品数量\"}},[_c('div',[_c('van-cell',{attrs:{\"left\":\"\",\"title\":\"商品种类\",\"is-link\":\"\",\"value\":_vm.goodtype,\"arrow-direction\":\"down\"},on:{\"click\":_vm.showPopup}}),_c('van-popup',{style:({ height: '50%' }),attrs:{\"position\":\"bottom\"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('van-picker',{attrs:{\"title\":\"商品种类\",\"show-toolbar\":\"\",\"columns\":_vm.columns},on:{\"confirm\":_vm.onConfirm,\"cancel\":_vm.onCancel}})],1),_c('van-field',{staticClass:\"inputbox\",attrs:{\"label\":\"商品号\",\"center\":\"\",\"placeholder\":\"请输入商品号\"},model:{value:(_vm.addId),callback:function ($$v) {_vm.addId=$$v},expression:\"addId\"}}),_c('van-field',{attrs:{\"type\":\"digit\",\"placeholder\":\"请输入商品数量\",\"label\":\"商品数量\"},model:{value:(_vm.addnum),callback:function ($$v) {_vm.addnum=$$v},expression:\"addnum\"}})],1),_c('van-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addgoods2}},[_vm._v(\"增加\"+_vm._s(_vm.addId)+\"商品数据\")])],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\r\n\r\n\r\n<template>\r\n    <!-- 增加商品 -->\r\n    \r\n\r\n    <div class=\"goodadd\">\r\n\r\n        <div>\r\n            <van-nav-bar\r\n            title=\"增加商品\"\r\n            left-text=\"\"\r\n            left-arrow\r\n            @click-left=\"onClickLeft\"\r\n            />\r\n        </div>\r\n\r\n        <div>\r\n            <van-tabs v-model=\"active\">\r\n                <van-tab title=\"增加新商品\">\r\n                    <div>\r\n                        <van-cell left title=\"商品种类\"   is-link :value=\"goodtype\" @click=\"showPopup\" arrow-direction=\"down\"></van-cell>\r\n                        <van-popup v-model=\"show\" position=\"bottom\" :style=\"{ height: '50%' }\" >\r\n                            <van-picker\r\n                            title=\"商品种类\"\r\n                            show-toolbar\r\n                            :columns=\"columns\"\r\n                            @confirm=\"onConfirm\"\r\n                            @cancel=\"onCancel\"\r\n                            />\r\n                        </van-popup>\r\n\r\n                        \r\n                        <van-field v-model=\"addId\" label=\"商品号\" center placeholder=\"请输入商品号\" class=\"inputbox\"/>          \r\n                        <van-field v-model=\"addname\" label=\"商品名\" placeholder=\"请输入商品名\" class=\"inputbox\"/>\r\n                        <van-field v-model=\"addinprice\" type=\"number\" placeholder=\"请输入商品进价\" label=\"商品进价\" />\r\n                        <van-field v-model=\"addoutprice\" type=\"number\" placeholder=\"请输入商品售价\" label=\"商品售价\" />\r\n                        <van-field v-model=\"addnum\" type=\"digit\" placeholder=\"请输入商品数量\" label=\"商品数量\"  />\r\n                        \r\n                    \r\n\r\n                        <!-- <input class=\"input_image left\" type=\"file\" @change=\"uploadImage($event)\" accept=\"image/*\" />\r\n                        <img class=\"show_input_image left\" :src=\"imgSrc\" /> -->\r\n\r\n                        <van-cell title=\"商品图片\" >\r\n                        <!-- 使用 title 插槽来自定义标题 -->\r\n                            <template >\r\n                                <!-- <van-uploader v-model=\"fileList\" :after-read=\"afterRead\" multiple :max-count=\"1\"  /> -->\r\n                                \r\n                                <input class=\"input_image left\" type=\"file\" @change=\"uploadImage($event)\" accept=\"image/*\" />\r\n                                <img class=\"show_input_image left\" :src=\"imgSrc\" />\r\n                            </template>\r\n                        </van-cell>\r\n                        \r\n                    </div>\r\n                    <van-button type=\"primary\" @click=\"addgoods\" >增加{{addId}}商品数据</van-button>\r\n\r\n                </van-tab>\r\n            <van-tab title=\"增加已有商品数量\">\r\n                <div>\r\n                    <van-cell left title=\"商品种类\"   is-link :value=\"goodtype\" @click=\"showPopup\" arrow-direction=\"down\"></van-cell>\r\n                    <van-popup v-model=\"show\" position=\"bottom\" :style=\"{ height: '50%' }\" >\r\n                        <van-picker\r\n                        title=\"商品种类\"\r\n                        show-toolbar\r\n                        :columns=\"columns\"\r\n                        @confirm=\"onConfirm\"\r\n                        @cancel=\"onCancel\"\r\n                        />\r\n                    </van-popup>\r\n\r\n                    \r\n                    <van-field v-model=\"addId\" label=\"商品号\" center placeholder=\"请输入商品号\" class=\"inputbox\"/>          \r\n                    <!-- <van-field v-model=\"addname\" label=\"商品名\" placeholder=\"请输入商品名\" class=\"inputbox\"/> -->\r\n                    <!-- <van-field v-model=\"addinprice\" type=\"number\" placeholder=\"请输入商品进价\" label=\"商品进价\" /> -->\r\n                    <!-- <van-field v-model=\"addoutprice\" type=\"number\" placeholder=\"请输入商品售价\" label=\"商品售价\" /> -->\r\n                    <van-field v-model=\"addnum\" type=\"digit\" placeholder=\"请输入商品数量\" label=\"商品数量\"  />\r\n                    \r\n                \r\n\r\n                    <!-- <input class=\"input_image left\" type=\"file\" @change=\"uploadImage($event)\" accept=\"image/*\" />\r\n                    <img class=\"show_input_image left\" :src=\"imgSrc\" /> -->\r\n                   \r\n                    \r\n                </div>\r\n                <van-button type=\"primary\" @click=\"addgoods2\" >增加{{addId}}商品数据</van-button>\r\n            </van-tab>\r\n            \r\n            </van-tabs>\r\n\r\n        </div>\r\n\r\n\r\n        <!-- <button @click=\"add\">555</button> -->\r\n        \r\n        \r\n\r\n        <!-- <button @click=\"addgoods('a1')\">点击</button> -->\r\n        \r\n\r\n         \r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { Dialog } from 'vant';\r\nimport { Toast } from 'vant';\r\nimport '../assets/less/goodadd.less'\r\n\r\nexport default {\r\n    data(){\r\n        return{\r\n            columns: ['饮料', '零食', '家电', '数码', '服装','美妆'],\r\n            idListtype : ['Y','L','J','S','F','M' ],\r\n            // 饮料', '零食', '家电', '数码', '服装','美妆 对应 y,l,j,s,f,m\r\n\r\n\r\n            imgSrc:'',\r\n\r\n            addId:'',\r\n            addname:'',\r\n            addinprice:'',\r\n            addoutprice:'',\r\n            addpicture:'',\r\n            addnum:'',\r\n\r\n            show: false,\r\n\r\n            goodtype:'饮料',\r\n\r\n            username: window.sessionStorage.getItem('username'),\r\n\r\n            fileList: [\r\n                // {\r\n                // url: 'https://img01.yzcdn.cn/vant/tree.jpg',\r\n                // status: 'done',\r\n                // // message: '上传完成',\r\n                // },\r\n            ],\r\n            active:0\r\n\r\n        };\r\n    },\r\n   \r\n    \r\n \r\n    created() {\r\n        \r\n        \r\n    },\r\n\r\n    methods:{\r\n        // 上传图片\r\n        uploadImage(e) {\r\n            //上传图片并预览\r\n            let file = e.target.files[0]; //获取第一个文件\r\n            let img = new FileReader();\r\n            img.readAsDataURL(file);\r\n            // console.log(\"img:\",img)\r\n            img.onload = ({ target }) => {\r\n                this.imgSrc = target.result; //将img转化为二进制数据,用来显示在页面中\r\n                // this.addpicture = this.imgSrc;\r\n                // console.log(\"图片target:\",target);\r\n                this.addpicture=target.result\r\n                console.log(\"图片长度\",this.addpicture.length);\r\n              \r\n            };\r\n        },\r\n       \r\n        all() {    //查找good表全部数据\r\n            this.axios.get('http://127.0.0.1/all').then(res=>{\r\n                console.log(res.data);\r\n                this.info = res.data\r\n            }).catch(err=>{\r\n                console.log(\"获取数据失败\" + err);\r\n            })\r\n        },\r\n\r\n        add() {   //商品表添加操作\r\n            this.axios.get('http://127.0.0.1/list/add',{\r\n                params: {\r\n                //这个req的params的goodid要与list.js中的query的数据一致，不然会报错 \r\n                goodId: this.addId,\r\n                goodName: this.addname,\r\n                inprice: this.addinprice,\r\n                outprice: this.addoutprice,\r\n                num:this.addnum,\r\n                picture: this.addpicture\r\n                \r\n                }\r\n            }).then(res=>{\r\n                // console.log(\"图片\",this.addpicture);\r\n                // console.log(res.data);\r\n                this.$toast(\"添加商品成功\")\r\n                this.all()\r\n                // this.zengjiaaddgoods(this.addinprice);//增加记录到入库表\r\n            }).catch(err=>{\r\n                this.$toast(\"添加商品失败\")\r\n                console.log(\"获取数据失败\" + err);\r\n            })\r\n        },\r\n\r\n\r\n        zengjiaaddgoods(gprice){ //入库表添加操作\r\n            this.axios.get('http://127.0.0.1/addgoods/add',{\r\n                params: {\r\n                goodId: this.addId,\r\n                innum:this.addnum,\r\n                spendmoney:parseInt(this.addnum) * parseFloat(gprice),\r\n                intime:String(this.daytime()),\r\n                username:this.username,\r\n                }\r\n                }).then(res=>{\r\n                    // console.log(\"入库花费\",String(parseInt(this.addnum) * parseFloat(gprice)));\r\n                    // console.log(\"入库时间\",String(this.daytime()));\r\n                    //  console.log(\"入库表res:\",res);\r\n                    // this.$toast(\"添加入库表成功\")\r\n                    console.log(\"添加入库表成功\");\r\n                    // this.all()\r\n\r\n                }).catch(err=>{\r\n                this.$toast(\"添加入库失败\")\r\n                console.log(\"获取数据失败\" + err);\r\n            })\r\n        },\r\n\r\n        // 获取当前时间\r\n        daytime(){\r\n            var today=new Date();\r\n            var year = today.getFullYear()//年,月，日，时，分，秒\r\n            var month = today.getMonth()+1 \r\n            var day = today.getDate()   \r\n            // var hour=today.getHours();  \r\n            // var min=today.getMinutes();\r\n            // var sec= today.getSeconds();\r\n\r\n            var s = year+'/'+month+'/'+day;\r\n\r\n            return s\r\n\r\n            // console.log(s)\r\n        },\r\n\r\n\r\n        // 修改对应商品的数量\r\n        updatagnum(newnum){\r\n            this.axios.get('http://127.0.0.1/list/updatanum',{\r\n                params: {\r\n                    goodId: this.addId,\r\n                    num:newnum,\r\n                }\r\n                }).then(res=>{\r\n                console.log(res.data);\r\n                this.$toast(\"添加商品库存成功\")\r\n                this.all()\r\n                // this.zengjiaaddgoods();//增加记录到入库表\r\n            }).catch(err=>{\r\n                this.$toast(\"添加商品失败\")\r\n                console.log(\"获取数据失败\" + err);\r\n            })\r\n\r\n\r\n        },\r\n\r\n        // 当商品存在时\r\n        fangfa1(newnum,inprice){\r\n            this.axios.get('http://127.0.0.1/list/updatanum',{\r\n                params: {\r\n                    goodId: this.addId,\r\n                    num:newnum,\r\n                }\r\n                }).then(res=>{\r\n                console.log(res.data);\r\n                this.$toast(\"添加商品库存成功\")\r\n                this.all()\r\n                this.zengjiaaddgoods(inprice);//增加记录到入库表\r\n            }).catch(err=>{\r\n                this.$toast(\"添加商品失败\")\r\n                console.log(\"获取数据失败\" + err);\r\n            })\r\n        },\r\n\r\n        // 商品不存在时\r\n        fangfa2(){\r\n            this.axios.get('http://127.0.0.1/list/add',{\r\n                params: {\r\n                //这个req的params的goodid要与list.js中的query的数据一致，不然会报错 \r\n                goodId: this.addId,\r\n                goodName: this.addname,\r\n                inprice: this.addinprice,\r\n                outprice: this.addoutprice,\r\n                num:this.addnum,\r\n                picture: this.addpicture\r\n                \r\n                }\r\n            }).then(res=>{\r\n                console.log(res.data);\r\n                this.$toast(\"添加商品成功\")\r\n                this.all()\r\n                this.zengjiaaddgoods(this.addinprice);//增加记录到入库表\r\n            }).catch(err=>{\r\n                this.$toast(\"添加商品失败\")\r\n                console.log(\"获取数据失败\" + err);\r\n            })\r\n\r\n        },\r\n        \r\n        // 增加入库表和商品表，商品不存在时\r\n        addgoods(){\r\n            Dialog.confirm({\r\n                title: '提示',\r\n                message: '是否确定增加？',\r\n                })\r\n                .then(() => {\r\n                    var re =  /^[A-Z0-9]+$/g; \r\n                    \r\n                    // var re = /^A-Z\\+?[1-9][0-9]*$/;\r\n                    // var num = this.addname.replace(/[^0-9]/ig,\"\");  \r\n                    // var zimu = this.addname.replace(/[^A-Z]+/ig,\"\"); \r\n                    // console.log(zimu,Number(num));\r\n                    \r\n                    //  console.log(11);\r\n                //    this.addname = val.replace(/[^\\w]/g,'')\r\n                //    console.log(11);\r\n                //    console.log(this.addname,444);\r\n                // this.addname.replace(/[^\\d]/g,'')\r\n            //      console.log(this.addId.match(/\\d+/g),11 )\r\n            //      console.log(this.addId.match(/a-zA-Z+/g),22);\r\n            //     // value.replace(/[^a-zA-Z]/g,'')\r\n            //    if(!re.test(this.addId)){\r\n            //         this.$toast(\"请输入字母加数字\")\r\n            //     }\r\n            //         else\r\n\r\n                    if(this.addId == ''){\r\n                        this.$toast(\"商品号不能为空\")\r\n                    }else if(this.addname == ''){\r\n                        this.$toast(\"商品名不能为空\")\r\n                    }else if(this.addinprice == ''){\r\n                        this.$toast(\"商品进价不能为空\")\r\n                    }else if(this.addoutprice == ''){\r\n                        this.$toast(\"商品售价不能为空\")\r\n                    }else if(this.addnum == ''){\r\n                        this.$toast(\"商品数量不能为空\")\r\n                    }\r\n                    else{\r\n                        this.axios.get('http://127.0.0.1/list/get',{\r\n                            params: {\r\n                            goodId: this.addId,\r\n                            }\r\n                        }).then(res=>{\r\n                            console.log(\"res:\",res);\r\n                            console.log(String(res.data).length);\r\n                            var len = String(res.data).length;\r\n                            if(len==0){//如果该商品不存在，则直接添加进表,用方法2\r\n                                this.fangfa2();//增加到商品表\r\n                            }else{\r\n                                // 如果存在，则更改相应商品表的数量，调用方法1\r\n                                this.$toast(\"该商品已存在，请使用右边的增加方法\")\r\n                                // console.log(\"num\",res.data[0].num);\r\n                                // var oldnum = parseInt(res.data[0].num)\r\n                                // var newnum =0;\r\n                                // newnum=oldnum+parseInt(this.addnum);\r\n                                // var price = res.data[0].inprice;\r\n\r\n                                // this.fangfa1(newnum,price)\r\n                                // this.updatagnum(newnum,\"newnum\");\r\n                            }\r\n                            console.log(\"查找成功\");\r\n                            \r\n                        }).catch(err=>{\r\n                            this.$toast(\"添加商品失败\")\r\n                            console.log(\"获取数据失败\" + err);\r\n                        })\r\n                    }\r\n                }).catch(() => {\r\n                    // on cancel\r\n                });\r\n\r\n        },\r\n\r\n\r\n        // 增加入库表和商品表，商品存在时\r\n        addgoods2(){\r\n            Dialog.confirm({\r\n                title: '提示',\r\n                message: '是否确定增加？',\r\n                })\r\n                .then(() => {\r\n                    if(this.addId == ''){\r\n                        this.$toast(\"商品号不能为空\")\r\n                    }else if(this.addnum == ''){\r\n                        this.$toast(\"商品数量不能为空\")\r\n                    }else{\r\n                        this.axios.get('http://127.0.0.1/list/get',{\r\n                            params: {\r\n                            goodId: this.addId,\r\n                            }\r\n                        }).then(res=>{\r\n                            console.log(\"res:\",res);\r\n                            var len = String(res.data).length;\r\n                            if(len==0){//如果该商品不存在，则直接添加进表,用方法2\r\n                                this.$toast(\"该商品不存在，请使用左边的增加方法\")\r\n                            }else{\r\n                                    // 如果存在，则更改相应商品表的数量，调用方法1\r\n                                    console.log(\"num\",res.data[0].num);\r\n                                    var oldnum = parseInt(res.data[0].num)\r\n                                    var newnum =0;\r\n                                    newnum=oldnum+parseInt(this.addnum);\r\n                                    var price = res.data[0].inprice;\r\n\r\n                                    this.fangfa1(newnum,price)\r\n                                \r\n                                console.log(\"查找成功\");\r\n                            }\r\n                            \r\n                        }).catch(err=>{\r\n                            this.$toast(\"添加商品失败\")\r\n                            console.log(\"获取数据失败\" + err);\r\n                        })\r\n                    }\r\n                }).catch(() => {\r\n                    // on cancel\r\n                });\r\n                \r\n\r\n        },\r\n\r\n\r\n        \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        // 组件添加图片时加载\r\n         afterRead(file) {\r\n            file.status = 'uploading';\r\n            file.message = '上传中...';\r\n\r\n            setTimeout(() => {\r\n                file.status = 'done';\r\n                file.message = '上传成功';\r\n            }, 1000);\r\n        },\r\n\r\n        // 弹出提示框提示是否添加\r\n        tishi(){\r\n            Dialog.confirm({\r\n                title: '提示',\r\n                message: '是否添加商品数据',\r\n                })\r\n                .then(() => {\r\n                    // on confirm\r\n                })\r\n                .catch(() => {\r\n                    // on cancel\r\n            });\r\n        },\r\n\r\n        // 弹出商品类型\r\n        onConfirm(value, index) {\r\n            this.goodtype =value;\r\n            this.show =!this.show\r\n            this.addId = this.idListtype[index];\r\n        },\r\n        onCancel() {\r\n            this.show =!this.show\r\n            // Toast('取消');\r\n        },\r\n\r\n        // 商品类型的弹出层\r\n        showPopup() {\r\n            this.show = true;\r\n        },\r\n\r\n        // 导航栏返回上一页\r\n        onClickLeft(){\r\n             this.$router.push({name:'Home'})\r\n        }\r\n\r\n\r\n\r\n    },\r\n\r\n    \r\n\r\n    \r\n\r\n\r\n\r\n}\r\n\r\n\r\n</script>\r\n\r\n<style scoped>\r\n \r\n\r\n\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Goodadd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Goodadd.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Goodadd.vue?vue&type=template&id=7e0bccec&scoped=true&\"\nimport script from \"./Goodadd.vue?vue&type=script&lang=js&\"\nexport * from \"./Goodadd.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7e0bccec\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","onClickLeft","model","value","callback","$$v","active","expression","goodtype","showPopup","style","height","show","columns","onConfirm","onCancel","addId","addname","addinprice","addoutprice","addnum","$event","uploadImage","imgSrc","addgoods","_v","_s","addgoods2","staticRenderFns","data","idListtype","addpicture","username","fileList","created","methods","e","img","console","all","catch","add","params","goodId","goodName","inprice","outprice","num","picture","then","zengjiaaddgoods","gprice","innum","spendmoney","intime","daytime","updatagnum","newnum","fangfa1","fangfa2","Dialog","title","message","afterRead","file","setTimeout","tishi","index","name","component"],"sourceRoot":""}