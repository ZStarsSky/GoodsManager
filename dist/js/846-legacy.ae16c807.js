"use strict";(self["webpackChunkmanagerproject"]=self["webpackChunkmanagerproject"]||[]).push([[846],{6846:function(t,e,n){n.r(e),n.d(e,{default:function(){return r}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"goodselect"},[n("div",{staticClass:"goodtitle"},[t._v(" 商品 ")]),n("div",{staticClass:"databox1"},[n("div",{staticClass:"chutext"},[n("span",[t._v("商品列表")]),n("span",{staticClass:"mingxi",on:{click:t.Togoodnum}},[t._v("库存视图")])]),n("div",[n("van-search",{staticClass:"research",attrs:{placeholder:"商品号/名称"},on:{search:function(e){return t.chazhao(t.value,e)}},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),n("van-button",{staticClass:"chazhaobtn",attrs:{type:"primary"},on:{click:function(e){return t.chazhao(t.value,e)}}},[t._v("查找")])],1),n("div",[n("van-tree-select",{staticClass:"nametree",attrs:{height:"175vw",items:t.items,"main-active-index":t.active},on:{"update:mainActiveIndex":function(e){t.active=e},"update:main-active-index":function(e){t.active=e}},scopedSlots:t._u([{key:"content",fn:function(){return t._l(t.Alltype,(function(e,i){return n("div",{key:i},[t.active===i?n("div",{attrs:{id:"smallgoodbox"}},t._l(e,(function(e,i){return n("div",{key:i,staticClass:"fbox"},[n("van-swipe-cell",{scopedSlots:t._u([{key:"right",fn:function(){return[n("van-button",{staticClass:"delete1",attrs:{square:"",text:"删除",type:"danger"},on:{click:function(e){return t.delclick(e)}}})]},proxy:!0}],null,!0)},[n("div",{ref:"Agoodbox",refInFor:!0,staticClass:"goodbox",style:e.goodId.indexOf(t.selectokshow)>=0&&""!=t.selectokshow||e.goodName.indexOf(t.selectokshow)>=0&&""!=t.selectokshow?"background:pink":"",on:{click:function(e){return t.changegoods(e)}}},[n("p",{staticClass:"iidd",staticStyle:{display:"none"},attrs:{id:"gid"}},[t._v(t._s(e.goodId))]),n("div",{staticClass:"imgbox"},[n("img",{attrs:{src:e.gpic,alt:"",id:"img"}})]),n("div",{staticClass:"textbox"},[n("div",{staticClass:"goodname"},[t._v(t._s(e.goodName))]),n("div",[n("span",{staticClass:"text"},[t._v("库存量")]),n("span",{staticClass:"num"},[t._v(t._s(e.num))])]),n("div",[n("span",{staticClass:"text"},[t._v("售价")]),n("span",{staticClass:"price"},[t._v("￥"+t._s(e.outprice))])])])])])],1)})),0):t._e()])}))},proxy:!0}])})],1)])])},l=[],o=(n(3210),n(727),n(6166),n(9515)),s={data:function(){return{value:"",activeKey:0,active:0,items:[{text:"饮料"},{text:"零食"},{text:"家电"},{text:"数码"},{text:"服装"},{text:"美妆"}],delid:"",name:"",selectokshow:"",Allgoodlist:[],yinliaolist:[],lingshilist:[],jiadianlist:[],shumalist:[],fuzhuanglist:[],meizhuanglist:[],Alltype:[],changegood:{gid:"",gname:"",gnum:"",goutprice:"",gpic:""},selectid:"",selectimg:"",time:1e3}},created:function(){this.selctalltype()},methods:{Togoodnum:function(){this.$router.push({name:"goodnum"})},chazhao:function(t,e){var n=0;if(t.trim().length<=0)this.$toast("请重新输入");else{for(var i=0;i<this.Alltype.length;i++)for(var l=0;l<this.Alltype[i].length;l++)if(this.Alltype[i][l].goodId.indexOf(t)>=0||this.Alltype[i][l].goodName.indexOf(t)>=0){this.active=i,n=1,this.selectokshow=t;break}0==n&&this.$toast("该商品不存在")}},changegoods:function(t){this.changegood.gid=t.currentTarget.firstElementChild.innerHTML,this.changegood.gname=t.currentTarget.firstElementChild.nextElementSibling.nextElementSibling.firstElementChild.innerHTML,this.changegood.gnum=t.currentTarget.firstElementChild.nextElementSibling.nextElementSibling.firstElementChild.nextElementSibling.firstElementChild.nextElementSibling.innerHTML,this.changegood.goutprice=t.currentTarget.firstElementChild.nextElementSibling.nextElementSibling.firstElementChild.nextElementSibling.nextElementSibling.firstElementChild.nextElementSibling.innerHTML,this.changegood.gpic=t.currentTarget.firstElementChild.nextElementSibling.firstElementChild.src,console.log("修改的商品",this.changegood),this.toGoodupdata(this.changegood)},toGoodupdata:function(t){this.$router.push({name:"goodupdate",query:{changegood:t}})},delclick:function(t){console.log("ccc",t.currentTarget.parentElement.parentElement.firstElementChild);var e=t.currentTarget.parentElement.parentElement.firstElementChild;console.log("准备删除的id",t.currentTarget.parentElement.parentElement.firstElementChild.firstElementChild.innerHTML);var n=t.currentTarget.parentElement.parentElement.firstElementChild.firstElementChild.innerHTML;this.del(n,e)},Funchangestyle:function(t){t.style.display="none"},onClickLeft:function(){this.$router.go(-1)},selctalltype:function(){var t=this;this.axios.get("http://127.0.0.1/all").then((function(e){t.Allgoodlist=e.data;for(var n=0;n<t.Allgoodlist.length;n++)t.Allgoodlist[n]["nownum"]=1;for(n=0;n<t.Allgoodlist.length;n++)"Y"==t.Allgoodlist[n].goodId.charAt(0)?t.yinliaolist.push(t.Allgoodlist[n]):"L"==t.Allgoodlist[n].goodId.charAt(0)?t.lingshilist.push(t.Allgoodlist[n]):"J"==t.Allgoodlist[n].goodId.charAt(0)?t.jiadianlist.push(t.Allgoodlist[n]):"S"==t.Allgoodlist[n].goodId.charAt(0)?t.shumalist.push(t.Allgoodlist[n]):"F"==t.Allgoodlist[n].goodId.charAt(0)?t.fuzhuanglist.push(t.Allgoodlist[n]):"M"==t.Allgoodlist[n].goodId.charAt(0)&&t.meizhuanglist.push(t.Allgoodlist[n]);t.Alltype.push(t.yinliaolist),t.Alltype.push(t.lingshilist),t.Alltype.push(t.jiadianlist),t.Alltype.push(t.shumalist),t.Alltype.push(t.fuzhuanglist),t.Alltype.push(t.meizhuanglist),console.log("分类好的全部商品",t.Alltype)})).catch((function(t){console.log("获取数据失败"+t)}))},all:function(){var t=this;this.axios.get("http://127.0.0.1/all").then((function(e){console.log(e.data),t.info=e.data})).catch((function(t){console.log("获取数据失败"+t)}))},del:function(t,e){var n=this;o.Z.confirm({title:"提示",message:"是否确定删除？"}).then((function(){n.axios.get("http://127.0.0.1/list/get",{params:{goodId:t}}).then((function(i){console.log("删除goodid",i.data[0].goodId),n.axios.get("http://127.0.0.1/list/del",{params:{goodId:t}}).then((function(t){n.$toast("删除商品成功"),n.Funchangestyle(e),console.log(t.data)})).catch((function(t){console.log("操作失败"+t)}))})).catch((function(t){n.$toast("删除失败，该商品号不存在"),console.log("获取数据失败"+t)}))})).catch((function(){}))},select:function(){var t=this;this.axios.get("http://127.0.0.1/list/get",{params:{goodId:this.selectid}}).then((function(e){console.log(e.data,"res data -selectend"),console.log("查询结果length",String(e.data).length),0==String(e.data).length?t.$toast("该商品号不存在"):t.$toast("查询商品成功")})).catch((function(e){t.$toast("该商品号不存在"),console.log("获取数据失败"+e)}))}}},a=s,c=n(1001),d=(0,c.Z)(a,i,l,!1,null,"3adb07c1",null),r=d.exports}}]);
//# sourceMappingURL=846-legacy.ae16c807.js.map