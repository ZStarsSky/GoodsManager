{"version":3,"file":"js/829.4cd0f590.js","mappings":"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","sources":["webpack://managerproject/./src/views/Goodupdate.vue?98f1","webpack://managerproject/src/views/Goodupdate.vue","webpack://managerproject/./src/views/Goodupdate.vue?faf2","webpack://managerproject/./src/views/Goodupdate.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"goodupdate\"},[_c('div',[_c('van-nav-bar',{staticClass:\"bar\",attrs:{\"title\":\"修改商品\",\"left-arrow\":\"\"},on:{\"click-left\":_vm.onClickLeft}})],1),_c('div',[_c('van-field',{attrs:{\"label\":\"商品号\",\"readonly\":\"\"},on:{\"click\":_vm.nochange},model:{value:(_vm.updategood.gid),callback:function ($$v) {_vm.$set(_vm.updategood, \"gid\", $$v)},expression:\"updategood.gid\"}}),_c('van-field',{attrs:{\"label\":\"商品名\",\"placeholder\":\"请输入修改商品名\"},model:{value:(_vm.updategood.gname),callback:function ($$v) {_vm.$set(_vm.updategood, \"gname\", $$v)},expression:\"updategood.gname\"}}),_c('van-field',{attrs:{\"type\":\"number\",\"label\":\"商品售价\",\"placeholder\":\"请输入修改商品售价\"},model:{value:(_vm.updategood.goutprice),callback:function ($$v) {_vm.$set(_vm.updategood, \"goutprice\", $$v)},expression:\"updategood.goutprice\"}}),_c('van-field',{attrs:{\"type\":\"digit\",\"label\":\"商品数量\",\"placeholder\":\"请输入修改商品数量\"},model:{value:(_vm.updategood.gnum),callback:function ($$v) {_vm.$set(_vm.updategood, \"gnum\", $$v)},expression:\"updategood.gnum\"}}),_c('van-cell',{attrs:{\"title\":\"商品图片\"}},[[_c('input',{staticClass:\"input_image left\",attrs:{\"type\":\"file\",\"accept\":\"image/*\"},on:{\"change\":function($event){return _vm.uploadImage($event)}}}),_c('img',{staticClass:\"show_input_image left\",attrs:{\"src\":_vm.imgSrc}})]],2),_c('van-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.update}},[_vm._v(\"修改\"+_vm._s(_vm.updategood.gid)+\"商品数据\")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"goodupdate\">\r\n\r\n        <div>\r\n            <van-nav-bar\r\n            title=\"修改商品\"\r\n            left-arrow\r\n            @click-left=\"onClickLeft\"\r\n            class=\"bar\"\r\n            />\r\n        </div>\r\n\r\n        <div>        \r\n            <van-field v-model=\"updategood.gid\" label=\"商品号\"  readonly @click=\"nochange\"/>\r\n            <van-field v-model=\"updategood.gname\" label=\"商品名\" placeholder=\"请输入修改商品名\" />\r\n            <!-- <van-field v-model=\"updateinprice\" type=\"number\" label=\"商品进价\" /> -->\r\n            <van-field v-model=\"updategood.goutprice\" type=\"number\" label=\"商品售价\" placeholder=\"请输入修改商品售价\" />\r\n            <van-field v-model=\"updategood.gnum\" type=\"digit\" label=\"商品数量\" placeholder=\"请输入修改商品数量\"  />\r\n            <van-cell title=\"商品图片\" >\r\n                <template >\r\n                    <input class=\"input_image left\" type=\"file\" @change=\"uploadImage($event)\" accept=\"image/*\" />\r\n                    <img class=\"show_input_image left\" :src=\"imgSrc\" />\r\n                </template>\r\n            </van-cell>\r\n            <van-button type=\"primary\" @click=\"update\">修改{{updategood.gid}}商品数据</van-button>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { Dialog } from 'vant';\r\nexport default {\r\n    data(){\r\n        return{\r\n            updategood:{},\r\n            imgSrc:this.$route.query.changegood.gpic,\r\n        }\r\n    },\r\n\r\n    created(){\r\n        // this.all();\r\n        this.updategood=this.$route.query.changegood\r\n        console.log(\"修改商品页面的商品\",this.updategood);\r\n    \r\n\r\n    },\r\n\r\n\r\n    methods: {\r\n        // 上传图片\r\n        uploadImage(e) {\r\n            //上传图片并预览\r\n            let file = e.target.files[0]; //获取第一个文件\r\n            let img = new FileReader();\r\n            img.readAsDataURL(file);\r\n            console.log(\"img:\",img)\r\n            img.onload = ({ target }) => {\r\n                this.imgSrc = target.result; //将img转化为二进制数据,用来显示在页面中\r\n            };\r\n        },\r\n\r\n        // 提示商品号不能修改\r\n        nochange(){\r\n            this.$toast(\"商品号不能修改\")\r\n        },\r\n        // 返回上一页\r\n         onClickLeft() {\r\n             this.$router.go(-1)\r\n        },\r\n\r\n        all() {    //查找good表全部数据\r\n            this.axios.get('http://127.0.0.1/all').then(res=>{\r\n                console.log(res.data);\r\n            }).catch(err=>{\r\n                console.log(\"获取数据失败\" + err);\r\n            })\r\n        },\r\n        \r\n\r\n        update() {     //修改操作\r\n            Dialog.confirm({\r\n                title: '提示',\r\n                message: '是否确定修改？',\r\n                })\r\n                .then(() => {\r\n                    // on confirm\r\n                    if(this.updategood.gname==''){\r\n                        this.$toast(\"商品名不能为空\")\r\n                    }else if(this.updategood.goutprice==''){\r\n                        this.$toast(\"商品售价不能为空\")\r\n                    }else if(this.updategood.gnum==''){\r\n                        this.$toast(\"商品数量不能为空\")\r\n                    }else{\r\n                        this.axios.get('http://127.0.0.1/list/update',{\r\n                            params: {\r\n                            goodId: this.updategood.gid,\r\n                            goodName: this.updategood.gname,\r\n                            outprice:this.updategood.goutprice,\r\n                            num:this.updategood.gnum,\r\n                            gpic:this.imgSrc,\r\n                            \r\n                            }\r\n                        }).then(res=>{\r\n                            // console.log(res.data);\r\n                            console.log(\"修改商品成功\");\r\n                            this.$toast(\"修改商品成功\")\r\n                            this.all()\r\n                            this.$router.push({name:'goodselect'})\r\n                        }).catch(err=>{\r\n                            this.$toast(\"修改商品失败\")\r\n                            console.log(\"获取数据失败\" + err);\r\n                        })\r\n                    }\r\n                })\r\n                .catch(() => {\r\n                    // on cancel\r\n                });\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n    .input_image {\r\n        position: relative;\r\n        width: 171px;\r\n        height: 148px;\r\n        /* background-color: blue; */\r\n        z-index: 999;\r\n        /* opacity: 0; */\r\n        top: 120px;\r\n        left: 6px;\r\n    }\r\n    .show_input_image {\r\n            position: absolute;\r\n            left: 7px;\r\n            width: 108px;\r\n            height: 106px;\r\n            margin-top: 5px;\r\n            top: 3px;\r\n    }\r\n\r\n    .van-button--primary{\r\n        background: #27cab5;\r\n    }\r\n\r\n    .van-cell__title,.van-cell__value{\r\n          text-align: left;\r\n          color: #646566;\r\n      }\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Goodupdate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Goodupdate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Goodupdate.vue?vue&type=template&id=e42f9072&scoped=true&\"\nimport script from \"./Goodupdate.vue?vue&type=script&lang=js&\"\nexport * from \"./Goodupdate.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Goodupdate.vue?vue&type=style&index=0&id=e42f9072&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e42f9072\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","onClickLeft","nochange","model","value","updategood","callback","$$v","$set","expression","$event","uploadImage","imgSrc","update","_v","_s","gid","staticRenderFns","data","created","console","methods","img","target","all","catch","err","Dialog","title","message","then","params","goodId","goodName","outprice","num","gpic","res","name","component"],"sourceRoot":""}