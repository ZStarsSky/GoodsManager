"use strict";(self["webpackChunkmanagerproject"]=self["webpackChunkmanagerproject"]||[]).push([[155],{7155:function(t,i,n){n.r(i),n.d(i,{default:function(){return u}});var e=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"gooddata"},[n("div",{staticClass:"goodtitle"},[t._v(" 报表 ")]),n("div",{staticClass:"databox1"},[n("div",{staticClass:"chutext"},[n("span",[t._v("出入库情况")]),n("span",{staticClass:"mingxi",on:{click:t.TogoodInOut}},[t._v("明细")])]),n("div",{staticClass:"box2"},[n("span",{staticClass:"moneybox"},[n("div",{staticClass:"text"},[t._v("出库总利润")]),n("span",{staticClass:"yuan"},[t._v("￥")]),n("span",{staticClass:"outmoneyText",style:String(t.username).length<=6?"":"font-size:11px"},[t._v(t._s(t.Outmoney))])]),n("span",{staticClass:"numbox"},[n("div",{staticClass:"text"},[t._v("出库总数")]),n("div",{staticClass:"num"},[t._v(t._s(t.Outnum))])])]),n("div",{staticClass:"box3"},[n("span",{staticClass:"moneybox"},[n("div",{staticClass:"text"},[t._v("入库总花费")]),n("div",{staticClass:"money"},[t._v("￥"+t._s(t.Inmoney))])]),n("span",{staticClass:"numbox"},[n("div",{staticClass:"text"},[t._v("入库总数")]),n("div",{staticClass:"num"},[t._v(t._s(t.Innum))])])]),n("span",{staticClass:"shanxingTitle"},[t._v("出库数量排名前五的商品")]),n("van-button",{staticClass:"shanxing",attrs:{plain:"",type:"info"},on:{click:t.clickshowshanxing}},[t._v("扇形图")]),n("div",{attrs:{id:"myChart"}}),n("van-button",{staticClass:"zhexiang",attrs:{plain:"",type:"info"},on:{click:t.zhexianall}},[t._v("折线图")]),t._m(0)],1)])},s=[function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"datapic"},[n("div",{staticClass:"datapic2"},[n("div",{staticStyle:{width:"90%",height:"70vh"},attrs:{id:"chartLineBox2"}})]),n("div",{staticClass:"datapic2"},[n("div",{staticStyle:{width:"90%",height:"70vh"},attrs:{id:"chartLineBox"}})])])}],o=(n(2707),n(561),n(8309),n(3371),n(727)),a={data:function(){return{Allspendtimelist:[],Alloutlist:[],addtimelist:[],addspendlist:[],Inmoney:0,Innum:"",addnumlist:[],outprofitlist:[],Outmoney:0,Outnum:"",outnumlist:[],poplist:[],numlist:[],idlist:[],namelist:[],name:"",NNamelist:[],index:0,Allpopgood:[],echartsOption:{legend:{data:[]},tooltip:{trigger:"axis"},series:[{name:"公司市值占比",type:"pie",radius:"50%",center:["50%","50%"],data:[]}]},username:window.sessionStorage.getItem("username")}},created:function(){String(this.username).length<=6?(this.allspend(),this.allprofit()):(this.Outmoney="您没有权限查看",this.allspend()),this.selectaddgood(),this.selectexgood(),this.selectidnum()},methods:{Show:function(){console.log("最受欢迎",this.Allpopgood)},allspend:function(){var t=this;this.axios.get("http://127.0.0.1/addgoods/allspend").then((function(i){console.log("入库花费总额",i.data[0].spendall),t.Inmoney=i.data[0].spendall})).catch((function(t){console.log("获取数据失败"+t)}))},allprofit:function(){var t=this;this.axios.get("http://127.0.0.1/exgoods/allprofit").then((function(i){console.log("出库利润总额",i.data[0].profitall),t.Outmoney=i.data[0].profitall})).catch((function(t){console.log("获取数据失败"+t)}))},TogoodInOut:function(){this.$router.push({name:"goodInOut"})},selectname:function(t){var i=this;this.axios.get("http://127.0.0.1/list/selectname",{params:{goodId:t}}).then((function(t){i.NNamelist[i.index]=t.data[0].goodName,i.index++})).catch((function(t){console.log("获取数据失败"+t)}))},sortlist:function(t){return function(i,n){return n[t]-i[t]}},selectidnum:function(){var t=this;this.axios.get("http://127.0.0.1/exgoods/allid",{}).then((function(i){t.idlist=i.data,console.log("iiiddd",i.data);for(var n=0;n<t.idlist.length;n++)t.selectname(t.idlist[n].goodId),t.selectOutnumgood(t.idlist[n].goodId);console.log("名字",t.NNamelist)})).catch((function(t){console.log("获取数据失败"+t)}))},selectOutnumgood:function(t){var i=this;this.axios.get("http://127.0.0.1/exgoods/selectoutGood",{params:{goodId:t}}).then((function(t){i.numlist.push(t.data[0].goutnum)})).catch((function(t){console.log("获取数据失败"+t)}))},clickshowshanxing:function(){console.log("名字list",this.NNamelist);for(var t=0;t<this.numlist.length;t++)this.Allpopgood.push({name:this.NNamelist[t],value:this.numlist[t],id:this.idlist[t]});this.Allpopgood=this.Allpopgood.sort(this.sortlist("value")),this.echartsOption.series[0].data=this.Allpopgood.splice(0,7);var i=this.Allpopgood.splice(0,7).name;this.echartsOption.legend.data=i;var n=o.S1(document.getElementById("myChart"),"light");n.setOption(this.echartsOption)},selectaddgood:function(){var t=this;this.axios.get("http://127.0.0.1/addgoods/selectspend",{}).then((function(i){t.Allspendaddtimelist=Object.freeze(i.data),console.log("入库表的时间和花费金额和数量",t.Allspendaddtimelist),t.addtimelist=t.Allspendaddtimelist[1],t.addspendlist=t.Allspendaddtimelist[0],t.addnumlist=t.Allspendaddtimelist[2],t.axios.get("http://127.0.0.1/addgoods/alladdnum",{}).then((function(i){t.Innum=i.data,console.log("入库总数",t.Innum)})).catch((function(t){console.log("获取数据失败"+t)}))})).catch((function(t){console.log("获取数据失败"+t)}))},MoneyFun:function(t){for(var i=0,n=0;n<t.length;n++)i+=t[n];return i},selectexgood:function(){var t=this;this.axios.get("http://127.0.0.1/exgoods/selectprofit",{}).then((function(i){t.Alloutlist=Object.freeze(i.data),console.log("出库表的时间和花费金额和数量",t.Alloutlist),t.outprofitlist=t.Alloutlist[0],console.log("出库金额",t.outprofitlist),t.outnumlist=t.Alloutlist[2],t.axios.get("http://127.0.0.1/exgoods/alloutnum",{}).then((function(i){t.Outnum=i.data,console.log("出库总数",t.Outnum)})).catch((function(t){console.log("获取数据失败"+t)}))})).catch((function(t){console.log("获取数据失败"+t)}))},zhexianall:function(){this.username.length<=6?(this.zhexian(),this.zhexian2()):this.zhexian2()},zhexian:function(){this.chartLine=o.S1(document.getElementById("chartLineBox"));var t={tooltip:{trigger:"axis"},legend:{data:["出库利润金额","入库花费金额"]},color:["#8AE09F","#FA6F53"],xAxis:{type:"category",boundaryGap:!1,data:this.addtimelist,name:"时间",nameTextStyle:{color:"#FA6F53",fontSize:12,padding:[10,0,0,-20]},axisLine:{lineStyle:{color:"#FA6F53"}}},yAxis:{name:"出入库金额 /千",nameTextStyle:{color:"#FA6F53",fontSize:12,padding:[10,10,5,35]},axisLine:{lineStyle:{color:"#FA6F53",margin:[10,5,10,10]}},type:"value"},series:[{name:"出库利润金额",data:this.outprofitlist,type:"line",lineStyle:{normal:{color:"#8AE09F"}}},{name:"入库花费金额",data:this.addspendlist,type:"line",lineStyle:{normal:{color:"#FA6F53"}}}]};this.chartLine.setOption(t)},zhexian2:function(){this.chartLine=o.S1(document.getElementById("chartLineBox2"));var t={tooltip:{trigger:"axis"},legend:{data:["出库数量","入库数量"]},color:["#8AE09F","#FA6F53"],xAxis:{type:"category",boundaryGap:!1,data:this.addtimelist,name:"时间",nameTextStyle:{color:"#FA6F53",fontSize:12,padding:[10,0,0,-20]},axisLine:{lineStyle:{color:"#FA6F53"}}},yAxis:{name:"出入库数量",nameTextStyle:{color:"#FA6F53",fontSize:12,padding:[10,10,5,35]},axisLine:{lineStyle:{color:"#FA6F53",margin:[10,5,10,10]}},type:"value"},series:[{name:"出库数量",data:this.outnumlist,type:"line",lineStyle:{normal:{color:"#8AE09F"}}},{name:"入库数量",data:this.addnumlist,type:"line",lineStyle:{normal:{color:"#FA6F53"}}}]};this.chartLine.setOption(t)}},mounted:function(){o.S1(document.getElementById("myChart"),"light")}},l=a,d=n(1001),c=(0,d.Z)(l,e,s,!1,null,null,null),u=c.exports}}]);
//# sourceMappingURL=155-legacy.231d7b15.js.map