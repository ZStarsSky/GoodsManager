"use strict";(self["webpackChunkmanagerproject"]=self["webpackChunkmanagerproject"]||[]).push([[516],{1516:function(s,e,t){t.r(e),t.d(e,{default:function(){return c}});var o=function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{staticClass:"login"},[s._m(0),t("div",{staticClass:"inp"},[t("van-field",{staticClass:"nameIn",attrs:{name:"用户名",label:"用户名",placeholder:"用户名"},model:{value:s.userInfo.username,callback:function(e){s.$set(s.userInfo,"username",e)},expression:"userInfo.username"}}),t("van-field",{staticClass:"passwdIn",attrs:{type:s.showPassword?"password":"text",name:"密码",label:"密码",placeholder:"密码","right-icon":s.showPassword?"closed-eye":"eye-o"},on:{"click-right-icon":function(e){s.showPassword=!s.showPassword}},model:{value:s.userInfo.password,callback:function(e){s.$set(s.userInfo,"password",e)},expression:"userInfo.password"}}),t("div",{staticClass:"wj",on:{click:s.changepassword}},[s._v("忘记密码")]),t("div",{staticClass:"loginbtn"},[t("van-button",{attrs:{block:"",type:"info","native-type":"submit",color:"rgb(53, 155, 177)"},on:{click:s.login}},[s._v("登陆")])],1),t("div",{staticClass:"registerbtn"},[t("van-button",{staticStyle:{background:"white",color:"black",border:"1px solid gray"},attrs:{color:"rgb(53, 155, 177)",block:"",type:"info","native-type":"submit"},on:{click:s.showPopup}},[s._v("注册")])],1)],1),t("van-popup",{style:{height:"50%"},attrs:{position:"bottom",closeable:""},model:{value:s.show,callback:function(e){s.show=e},expression:"show"}},[t("div",{staticClass:"register-box"},[t("h1",[s._v("注册")]),t("div",{staticClass:"register"},[t("van-field",{attrs:{name:"用户名",label:"用户名",placeholder:"用户名"},model:{value:s.registerInfo.username,callback:function(e){s.$set(s.registerInfo,"username",e)},expression:"registerInfo.username"}}),t("van-field",{attrs:{type:s.showPassword1?"password":"text",name:"密码",label:"密码",placeholder:"密码","right-icon":s.showPassword1?"closed-eye":"eye-o"},on:{"click-right-icon":function(e){s.showPassword1=!s.showPassword1}},model:{value:s.registerInfo.password,callback:function(e){s.$set(s.registerInfo,"password",e)},expression:"registerInfo.password"}}),t("div",{staticStyle:{margin:"16px","margin-top":"25px"}},[t("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"},on:{click:s.register}},[s._v("注册")])],1)],1)])])],1)},r=[function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{staticClass:"nav-top"},[t("div",{staticClass:"nav-left"},[t("span",[s._v("商 品 库 存 管 理 系 统")])])])}],a=t(7613),n={data:function(){return{value:"",userInfo:{username:"aa",password:"a4567"},registerInfo:{username:"bb",password:"b123"},showPassword:!0,showPassword1:!0,show:!1}},created:function(){},methods:{onSubmit:function(s){console.log("submit",s)},showPopup:function(){this.show=!0},changepassword:function(){this.$router.push({name:"changepassword"})},login:function(){var s=this,e={username:{value:this.userInfo.username,errorMsg:"用户名不能为空",reg:/^[^\s]*$/},password:{value:this.userInfo.password,errorMsg:"密码由数字字母下划线组合(4-16字符)",reg:/^[A-Za-z]\w{3,15}$/}},t=a.$.valid(e);t&&(""==this.userInfo.username?this.$toast("用户名不能为空"):""==this.userInfo.password?this.$toast("密码不能为空"):this.axios.get("http://127.0.0.1/login",{params:{name:this.userInfo.username,password:this.userInfo.password}}).then((function(e){console.log(e),200==e.data.status?(window.sessionStorage.setItem("token","loginok"),s.tohome(s.userInfo.username)):s.$toast("用户名或密码错误,登陆失败")})).catch((function(s){console.log("登录失败"+s)})))},tohome:function(s){console.log(s),window.sessionStorage.setItem("username",this.userInfo.username),this.$router.push({name:"Home",query:{username:s}})},register:function(){var s=this,e={username:{value:this.registerInfo.username,errorMsg:"用户名不能为空",reg:/^[^\s]*$/},password:{value:this.registerInfo.password,errorMsg:"密码由字母数字下划线组合(4-16字符)",reg:/^[A-Za-z]\w{3,15}$/}},t=a.$.valid(e);t&&(""==this.registerInfo.username?this.$toast("用户名不能为空"):""==this.registerInfo.password?this.$toast("密码不能为空"):this.axios.post("http://127.0.0.1/register",{params:{name:this.registerInfo.username,password:this.registerInfo.password}}).then((function(e){console.log(e),200==e.data.status?(s.$toast("注册成功"),s.show=!s.show):202==e.data.status?(s.$toast("用户名已存在,注册失败"),s.registerInfo.username="",s.registerInfo.password="",console.log(e.data.message)):console.log(e.data.message)})).catch((function(s){console.log("操作失败"+s)})))}}},i=n,l=t(1001),u=(0,l.Z)(i,o,r,!1,null,"1754fe4d",null),c=u.exports},7613:function(s,e,t){t.d(e,{$:function(){return u}});t(1703);function o(s,e){if(!(s instanceof e))throw new TypeError("Cannot call a class as a function")}function r(s,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(s,o.key,o)}}function a(s,e,t){return e&&r(s.prototype,e),t&&r(s,t),Object.defineProperty(s,"prototype",{writable:!1}),s}t(4916),t(7601);var n=t(8935),i=t(8256);n.Z.use(i.Z);var l=function(){function s(){o(this,s)}return a(s,[{key:"valid",value:function(s){for(var e in s)if(!s[e].reg.test(s[e].value))return(0,i.Z)(s[e].errorMsg),!1;return!0}}]),s}(),u=new l}}]);
//# sourceMappingURL=516-legacy.14375a0d.js.map